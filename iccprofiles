#!/usr/bin/env bash


# ---------------------------------------------------------
# Prerequisites
# ---------------------------------------------------------

# Consistent package location
HOMEBREW_OPT_DIR=$(brew --prefix $(basename $0))

# Where the profiles are stored
PROFILES_DIR="${HOMEBREW_OPT_DIR}/profiles"


# ---------------------------------------------------------
# No parameters given; show summary
# ---------------------------------------------------------

if [ "$#" -eq 0 ]; then
	echo;
	echo "These ICC profiles came with Homebrew formula tomkyle/negatives/iccprofiles."
	echo "<https://github.com/tomkyle/negatives-iccprofiles>"
	echo;

	echo "--------------------------------------------------------------------------";
	echo "1. Gray profiles from Elle Stone's Well-Behaved ICC Profiles"
	echo "<http://ninedegreesbelow.com/photography/lcms-make-icc-profiles.html#Gray>"
	echo;
	ls -1 "${PROFILES_DIR}"/Gray*
	echo;

	echo "--------------------------------------------------------------------------";
	echo "2. sRGB v4 Appearance profile from ICC/International Color Consortium"
	echo "<http://www.color.org/profiles/srgb_appearance.xalter>"
	echo;
	ls -1 "${PROFILES_DIR}"/sRGB*
	echo;

	echo "--------------------------------------------------------------------------";
	echo;

	exit;
fi


# ---------------------------------------------------------
# Handle
# ---------------------------------------------------------


while test $# -gt 0
do
    case "$1" in
        directory)   echo $PROFILES_DIR
            ;;
        gray-linear) ls -1 "${PROFILES_DIR}"/Gray-elle-V4-g10.icc
            ;;
        srgb-v4) ls -1 "${PROFILES_DIR}"/sRGB_ICC_v4_Appearance.icc
            ;;
    esac
    shift
done

exit 0

